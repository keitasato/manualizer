package com.example.manualizer;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import com.example.manualizer.entity.Content;
import com.example.manualizer.repository.ManualRepository;

import java.util.Date;
import java.text.SimpleDateFormat;

@SpringBootApplication
public class ManualizerApplication {
	/** 起動メソッド */
	public static void main(String[] args) {
		SpringApplication.run(ManualizerApplication.class, args).getBean(ManualizerApplication.class).execute();
	}
	/** 注入 */
	@Autowired
	ManualRepository repository;
	
	/** 実行メソッド */
	private void execute() {
		// 登録処理
		setup();
	}
	/** マニュアルを2件登録します */
	private void setup() {
		// エンティティ生成
		SimpleDateFormat date1 = new SimpleDateFormat("yyyy-MM-dd");
		Content content1 = new Content(null, "サンプル02", "ここに説明文が入るのだが、これはサンプルなのだ", date1, date1);
		// 登録実行
		content1 = repository.save(content1);
		// 登録確認
		System.out.println("登録したデータは、" + content1 + "です。");
		
		// エンティティ生成
		SimpleDateFormat date2 = new SimpleDateFormat("yyyy-MM-dd");
		Content content2 = new Content(null, "サンプル02", "ここに説明文が入るのだが、これはサンプルなのだ", date2, date2);
		// 登録実行
		content2 = repository.save(content2);
		// 登録確認
		System.out.println("登録したデータは、" + content2 + "です。");
		
	}

}
