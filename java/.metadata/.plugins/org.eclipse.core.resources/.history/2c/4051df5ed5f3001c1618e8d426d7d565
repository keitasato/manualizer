package com.example.manualizer;

import org.springframework.beans.factory.annotation.AutoWired;
import org.springframework.boot.SpringApplication;
import org.springframework.boot.autoconfigure.SpringBootApplication;

import com.example.manualizer.entity.Manual;
import com.example.manualizer.repository.ManualRepository;

import java.util.Date;
import java.text.SimpleDateFormat;

@SpringBootApplication
public class ManualizerApplication {
	/** 起動メソッド */
	public static void main(String[] args) {
		SpringApplication.run(ManualizerApplication.class, args).getBean(ManualApplication.class).execute();
	}
	/** 注入 */
	@Autowired
	ManualRepository repository;
	
	/** 実行メソッド */
	private void execute() {
		// 登録処理
		setup();
	}
	/** マニュアルを2件登録します */
	private void setup() {
		// エンティティ生成
		SimpleDateFormat date1 = new SimpleDateFormat("yyyy-MM-dd");
		Manual manual1 = new Manual(null, "サンプル02", "ここに説明文が入るのだが、これはサンプルなのだ", date1.toString(), date1.toString());
		// 登録実行
		manual1 = repository.save(manual1);
		// 登録確認
		System.out.println("登録したデータは、" + manual1 + "です。");
		
		// エンティティ生成
		SimpleDateFormat date2 = new SimpleDateFormat("yyyy-MM-dd");
		Manual manual2 = new Manual(null, "サンプル02", "ここに説明文が入るのだが、これはサンプルなのだ", date2.toString(), date2.toString());
		// 登録実行
		manual2 = repository.save(manual2);
		// 登録確認
		System.out.println("登録したデータは、" + manual2 + "です。");
		
	}

}
